## 功能需求
| 应用层 | 功能模块 | 功能点 | 是否需要当前版本完成 |
| --- | --- | --- | --- |
| Notion | 统一数据源，支持增删改查能力 | | 需要 |
| Notion | 数据同步 | 定时同步/一次性全量同步 | 需要 |
| Notion | 数据同步 | 增量同步：使用Notion Automations实现自动化更新 | 不需要 |
| 管理后台 | 仪表盘数据概览 | 文章统计信息 | 需要 |
| 管理后台 | 仪表盘数据概览 | 最近发布文章 | 需要 |
| 管理后台 | 仪表盘数据概览 | 访问统计 | 不需要 |
| 管理后台 | 文章管理 | 文章列表查看 | 需要 |
| 管理后台 | 文章管理 | 文章预览 | 需要 |
| 管理后台 | 文章管理 | 新增/修改/删除文章 | 不需要 |
| 管理后台 | notion 同步 | 手动触发立即同步 | 需要 |
| 博客前台 | 首页 | 卡片式文章布局 | 需要 |
| 博客前台 | 全部文章 | 归档页面设计，按照年份日期信息流 | 需要 |
| 博客前台 | 分类页面 |  | 需要 |
| 博客前台 | 博主页面 | md 可配置页面 | 需要 |
| 博客前台 | 文章详情页 |  |  |
| 博客前台 | 搜索功能 | 支持按照文章标题模糊搜索 | 需要 |
| 博客前台 | 评论系统集成 |  | 需要 |
| 博客前台 | 社交媒体分享 |  | 需要 |


## Notion集成数据流和交互时序图
### 数据流架构
1. 数据源层  
  ○ 数据来源：基于 Notion 数据库作为核心数据源。  
  ○ 同步机制：  
 ■ 定时同步：每天早上 7 点自动同步数据至本地缓存。  
 ■ 手动同步：提供“立即同步”按钮，支持用户主动触发数据更新。
2. 本地缓存层  
  ○ 缓存类型：  
 ■ 内存缓存：用于快速数据访问。  
 ■ 文件缓存：作为持久化存储，确保数据稳定性。  
  ○ 同步策略：  
 ■ 每次 Notion 数据同步时，清空本地缓存并重新拉取全量数据（由于 Notion Webhook 无法准确判断字段更新、删除及新增，因此采用全量同步策略）。  
 ■ 同步过程中提取 Notion 数据库字段（标题、分类、标签、发布日期等）及文章正文内容，以支持后续应用层功能。
3. 应用层  
  ○ 前台功能：  
 ■ 文章详情页渲染。  
 ■ 分类页面渲染。  
 ■ 数据统计功能（如阅读量、点赞数等）。  
  ○ 后台功能：  
 ■ 内容管理（文章预览等）。  
 ■ 数据统计与分析（文章数据统计等等）  
  ○ 静态博客构建：  
 ■ 自动生成静态页面，支持部署至静态托管服务。
4. 界面层  
  ○ 前台界面：  
 ■ 提供用户友好的文章展示页面。  
  ○ 后台界面：  
 ■ 提供直观的内容管理界面，便于管理员操作。
5. 静态层  
  ○ 部署服务：  
 ■ 支持将生成的静态博客部署至 GitHub Pages 或 Vercel 平台。

![](https://cdn.nlark.com/yuque/__mermaid_v3/4b05f8687313b8b1dd500ff2383aa32e.svg)

### 博客系统初始化流程
```plain
┌────────────┐    ┌─────────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐
│系统启动     │    │配置检查      │    │Notion API│    │数据同步   │    │本地缓存   │    │文件系统   │
└─────┬──────┘    └──────┬──────┘    └────┬─────┘    └────┬─────┘    └────┬─────┘    └────┬─────┘
      │                  │                 │               │               │               │
      │ 启动初始化       │                 │               │               │               │
      │─────────────────>│                 │               │               │               │
      │                  │                 │               │               │               │
      │                  │ 验证Notion配置  │               │               │               │
      │                  │────────────────>│               │               │               │
      │                  │                 │               │               │               │
      │                  │                 │ 连接成功      │               │               │
      │                  │<────────────────│               │               │               │
      │                  │                 │               │               │               │
      │                  │ 初始化数据同步  │               │               │               │
      │                  │────────────────────────────────>│               │               │
      │                  │                 │               │               │               │
      │                  │                 │               │ 获取全量数据  │               │
      │                  │                 │<──────────────│               │               │
      │                  │                 │               │               │               │
      │                  │                 │ 返回文章数据  │               │               │
      │                  │                 │──────────────>│               │               │
      │                  │                 │               │               │               │
      │                  │                 │               │ 建立缓存      │               │
      │                  │                 │               │──────────────>│               │
      │                  │                 │               │               │               │
      │                  │                 │               │ 生成Markdown  │               │
      │                  │                 │               │──────────────────────────────>│
      │                  │                 │               │               │               │
      │                  │                 │               │ 完成初始化    │               │
      │                  │<────────────────────────────────│               │               │
      │                  │                 │               │               │               │
      │ 初始化完成       │                 │               │               │               │
      │<─────────────────│                 │               │               │               │
┌─────┴──────┐    ┌──────┴──────┐    ┌────┴─────┐    ┌────┴─────┐    ┌────┴─────┐    ┌────┴─────┐
│系统启动     │    │配置检查      │    │Notion API│    │数据同步   │    │本地缓存   │    │文件系统   │
└────────────┘    └─────────────┘    └──────────┘    └──────────┘    └──────────┘    └──────────┘
```

### 静态部署流程 (Vercel/GitHub Pages)
```plain
┌──────────┐    ┌───────────┐    ┌───────────────┐    ┌──────────┐    ┌───────────┐    ┌──────────────┐
│开发者     │    │GitHub仓库  │    │GitHub Actions │    │Notion API│    │静态文件    │    │部署平台      │
└─────┬────┘    └─────┬─────┘    └───────┬───────┘    └────┬─────┘    └─────┬─────┘    └──────┬───────┘
      │               │                  │                  │                │                 │
      │ 提交代码      │                  │                  │                │                 │
      │──────────────>│                  │                  │                │                 │
      │               │                  │                  │                │                 │
      │               │ 触发CI/CD        │                  │                │                 │
      │               │─────────────────>│                  │                │                 │
      │               │                  │                  │                │                 │
      │               │                  │ 获取最新内容     │                │                 │
      │               │                  │─────────────────>│                │                 │
      │               │                  │                  │                │                 │
      │               │                  │                  │ 返回文章数据   │                 │
      │               │                  │<─────────────────│                │                 │
      │               │                  │                  │                │                 │
      │               │                  │ 生成静态HTML     │                │                 │
      │               │                  │────────────────────────────────> │                 │
      │               │                  │                  │                │                 │
      │               │                  │ 部署静态文件     │                │                 │
      │               │                  │──────────────────────────────────────────────────> │
      │               │                  │                  │                │                 │
┌─────┴────┐    ┌─────┴─────┐    ┌───────┴───────┐    ┌────┴─────┐    ┌─────┴─────┐    ┌──────┴───────┐
│开发者     │    │GitHub仓库  │    │GitHub Actions │    │Notion API│    │静态文件    │    │部署平台      │
└──────────┘    └───────────┘    └───────────────┘    └──────────┘    └───────────┘    └──────────────┘
```



### 博客前台页面
#### 博客首页
```markdown
┌───────────────────────────────────────────────────────────────────────┐
│  🏠 我的技术博客  [首页] [全部文章] [博主] [🔍 搜索]                       │
├───────────────────────────────────────┬───────────────────────────────┤
│  主内容区 (3/4宽度)                   │  侧边栏 (1/4宽度)              │
│  ┌──────────────────────────────────┐ │  ┌─────────────────────────┐ │
│  │ 📚 最新文章                       │ │  │ 👤 博主简介              │ │
│  │           全部文章 >>             │ │  ├─────────────────────────┤ │
│  ├──────────────────────────────────┤ │  │ 昵称：技术达人小王       │ │
│  │  ┌───────────────┐ ┌──────────────┤ │  │ 简介：资深全栈工程师... │ │
│  │  │ 🚗 深入理解React│ │ 🔧 云原生架构│ │  │ 微信：tech_wang        │ │
│  │  ├───────────────┤ ├──────────────┤ │  │ 邮箱：wang@example.com  │ │
│  │  │ 📅 2023-10-15  │ │ 📅 2023-09-28│ │  └─────────────────────────┘ │
│  │  │ 🏷️ 前端框架    │ │ �️ 云计算    │ │  ┌─────────────────────────┐ │
│  │  ├───────────────┤ ├──────────────┤ │  │ 📚 分类导航             │ │
│  │  │ 摘要内容摘要内│ │ 摘要内容摘要内│ │  ├─────────────────────────┤ │
│  │  └───────────────┘ └──────────────┘ │  │ • 保险(12)              │ │
│  │                                    │ │  │ • 技术工具(8)           │ │
│  │  ┌───────────────┐ ┌──────────────┐ │ │  │ • 读书笔记(5)           │ │
│  │  │ 🤖 GPT-4技术解│ │ 📊 数据可视化│ │ │  │ • 产品经理(3)           │ │
│  │  ├───────────────┤ ├──────────────┤ │ │  │ • AGI(7)                │ │
│  │  │ 📅 2023-08-12  │ │ 📅 2023-07-05│ │ │  └─────────────────────────┘ │
│  │  │ 🏷️ AGI       │ │ 🏷️ 数据分析  │ │ │  ┌─────────────────────────┐ │
│  │  ├───────────────┤ ├──────────────┤ │ │  │ 🏷️ 标签云                │ │
│  │  │ 摘要内容摘要内│ │ 摘要内容摘要内│ │ │  ├─────────────────────────┤ │
│  │  └───────────────┘ └──────────────┘ │ │  │ 前端 后端      │ │
│  └──────────────────────────────────┘ │  │ Node.js 金融科技│ │
│                                       │  └─────────────────────────┘ │
└───────────────────────────────────────┴───────────────────────────────┘
```

搜索按钮：支持文章标题的模糊搜索

#### 博客分类页面
```plain
┌───────────────────────────────────────────────────────────────────────┐
│  🏠 我的技术博客  [首页] [全部文章] [分类] [博主] [🔍 搜索]                │
├───────────────────────────────────────┬───────────────────────────────┤
│  主内容区 (3/4宽度)                   │  侧边栏 (1/4宽度)              │
│                                       │                               │
│  📚 全部分类                          │  ┌─────────────────────────┐  │
│                                       │  │ 👤 博主简介              │  │
│  ┌──────────────┐ ┌──────────────┐    │  ├─────────────────────────┤  │
│  │ 技术工具(8)  │ │ 保险(12)     │    │  │ 昵称：技术达人小王       │  │
│  └──────────────┘ └──────────────┘    │  │ 简介：资深全栈工程师... │  │
│                                       │  │ 微信：tech_wang        │  │
│  ┌──────────────┐ ┌──────────────┐    │  │ 邮箱：wang@example.com  │  │
│  │ 读书笔记(5)  │ │ 产品经理(3)  │    │  └─────────────────────────┘  │
│  └──────────────┘ └──────────────┘    │  ┌─────────────────────────┐  │
│                                       │  │ 📚 分类导航             │  │
│  ┌──────────────┐ ┌──────────────┐    │  ├─────────────────────────┤  │
│  │ AGI(7)       │ │ Web开发(9)   │    │  │ • 保险(12)              │  │
│  └──────────────┘ └──────────────┘    │  │ • 技术工具(8)           │  │
│                                       │  │ • 读书笔记(5)           │  │
│  ┌──────────────┐ ┌──────────────┐    │  │ • 产品经理(3)           │  │
│  │ 云计算(6)    │ │ 金融科技(4)  │    │  │ • AGI(7)                │  │
│  └──────────────┘ └──────────────┘    │  │ • Web开发(9)            │  │
│                                       │  └─────────────────────────┘  │
│  ┌──────────────┐ ┌──────────────┐    │  ┌─────────────────────────┐  │
│  │ 前端框架(11) │ │ Node.js(8)   │    │  │ 🏷️ 标签云                │  │
│  └──────────────┘ └──────────────┘    │  ├─────────────────────────┤  │
│                                       │  │ 前端(14) 后端(18)       │  │
│                                       │  │ Node.js(9) 金融科技(7)  │  │
│                                       │  │ 云计算(6) 数字化转型(5) │  │
│                                       │  └─────────────────────────┘  │
└───────────────────────────────────────┴───────────────────────────────┘
```

#### 博主页面
```yaml
---
title: 关于我
date: 2025-05-28 23:03:24
---

## 个人简介

你好！欢迎来到我的博客。我是一名资深产品经理，热爱技术，尤其关注人工智能和效率工具。我热衷于研究AI、金融理财，提升工作和生活效率。我会在这里分享知识和经验，希望对你有帮助！

### 专业技能

- **产品经理**：需求分析・产品设计・产品架构・UML
- **人工智能**：AI编程・AI智能体・AI产品经理
- **理财规划**：资产配置・保险・房地产・基金・股票
- **效率工具**：Notion・Obsidian・Logseq

### 知识管理方法论

![知识管理框架](/images/knowledge-management-framework.svg)

知识管理工具矩阵：
- Notion（中央仓库）
- Obsidian（网状链接）
- Readwise（信息聚合）

我的知识管理流程包括：
1. **输入源**：捕获AI论文、行业报告、实践案例
2. **知识仓库**：存储和组织收集的信息
3. **处理引擎**：对信息进行标签化、关联和去重
4. **价值输出**：将知识转化为博客、方案和产品设计
5. **反馈循环**：通过用户互动和效果验证优化流程

### 工作经历

我曾在大型互联网公司担任产品经理，也在互联网保险行业工作过。工作中，我经历了B端、C端、A端产品管理的全面锻炼，尤其在B端系统建设上，我曾独立负责过从0-1的大型交易系统重构，参与过多次长周期、跨多系统的项目。这些经历让我积累了丰富的产品经验，同时培养了良好的团队协作和项目管理能力。

### 联系方式

- **GitHub**: [https://github.com/dadadada-up](https://github.com/dadadada-up)
- **Email**: dadadada_up@163.com
- **WeChat**: dadadada_up

### 为什么写这个博客

- **深度思考**：写作是理清逻辑、挑战假设、固化认知的过程。
- **经验沉淀**：记录踩过的坑和验证有效的方法，为自己复盘，也为同行者提供参考。
- **开放交流**：产品之路充满未知，期待与同行、专家碰撞思想，共同探索。

### 博客聚焦方向

- **AI产品实战**：设计原则、伦理、落地挑战与规模化。
- **方法论实战**：经典框架应用、复杂场景决策、高效执行。
- **保险科技洞察**：数字化转型、创新案例（智能核保/理赔）、用户需求与合规。
- **金融产品创新**：财富科技、用户体验、风险管理。
- **效率跃迁**：高效工作流、生产力工具深度应用、目标管理。
- **跨界启发**：值得思考的产品/商业/科技洞见。

感谢您的访问，希望我们能一起不断前进！如果您有任何问题或建议，欢迎随时联系我。
```

#### 文章详情页页面
```plain
┌───────────────────────────────────────────────────────────────────────┐
│  🏠 我的技术博客  [首页] [全部文章] [分类] [博主] [🔍 搜索]                │
├───────────────────────────────────────┬───────────────────────────────┤
│  主内容区 (3/4宽度)                   │  侧边栏 (1/4宽度)              │
│                                       │                               │
│  # Docker部署Node.js应用完全指南      │  ┌─────────────────────────┐  │
│                                       │  │ 📑 目录                 │  │
│  📅 发布于: 2024-01-15                │  ├─────────────────────────┤  │
│  📝 作者: dada                        │  │ - [前言](#前言)          │  │
│  👀 阅读: 1280                        │  │ - [Docker基础知识]       │  │
│  🏷️ 分类: 技术工具                    │  │ - [Node.js项目配置]      │  │
│  #标签: Docker, Node.js, 部署         │  │ - [部署步骤]             │  │
│                                       │  │ - [优化建议]             │  │
│  ──────────────────────────────────── │  │ - [常见问题]             │  │
│                                       │  │ - [总结]                 │  │
│  ## 前言                              │  └─────────────────────────┘  │
│  本文旨在介绍如何使用Docker部署Node.js│  
│  应用的最佳实践...                    │  
│                                       │ 
│  ## Docker基础知识                    │  
│  Docker是一种轻量级的容器化技术...   │ 
│  ...（正文内容）...                   │                               │
│                                       │                               │
│  ──────────────────────────────────── │                               │
│  👍 点赞 | 💬 评论(12) | 🔗 分享      │                               │
│                                       │                               │
│  💬 评论区                             │                               │
│  ────────                             │                               │
│  👤 张三：写得很详细，学习了！          │                               │
│  👤 李四：请问Docker容器内存配置...    │                               │
│      └─ 作者回复：建议参考...          │                               │
│                                       │                               │
│  📝 发表评论                           │                               │
│  ┌─────────────────────────────────┐  │                               │
│  │ 请输入评论内容...                │  │                               │
│  └─────────────────────────────────┘  │                               │
│  [提交评论]                           │                               │
│                                       │                               │
│  📚 相关文章推荐                       │                               │
│  ─────────────                       │                               │
│  • Node.js性能调优实践                │                               │
│  • 容器化部署最佳实践                 │                               │
│  • 前端项目Docker化指南               │                               │
└───────────────────────────────────────┴───────────────────────────────┘
```

点赞/评论/分享的集成需要注意还是要维持静态博客

### 博客后台管理页面
#### 仪表盘页面
```plain
┌───────────────────────────────────────────────────────────────────────┐
│  ⚡ 博客管理后台                                                      │
├───────┬───────────────────────────────────────────────────────────────┤
│       │                                                               │
│ 左侧  │  📊 数据概览                                                  │
│ 菜单  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐            │
│ 栏    │  │ 文章总数    │  │ 分类数      │  │ 标签数      │            │
│       │  │    128      │  │    8        │  │    24       │            │
│ [仪表盘]  └─────────────┘  └─────────────┘  └─────────────┘            │
│ [文章管理]                                                           │
│ [Notion同步]                                                         │
│       │                                                               │
│       │  📝 最新发布文章                                             │
│       │  ┌───────────────────────────────────────────────────────┐   │
│       │  │ • Docker部署Node.js应用完全指南          2024-01-15   │   │
│       │  │ • Git常用命令速查手册                    2024-01-02   │   │
│       │  │ • VS Code必装插件推荐                    2023-12-25   │   │
│       │  │ • Linux服务器性能优化指南                2023-11-30   │   │
│       │  │ • React Hooks最佳实践                   2023-11-15   │   │
│       │  │ • 微服务架构设计模式                     2023-10-28   │   │
│       │  └───────────────────────────────────────────────────────┘   │
│       │                                                               │
└───────┴───────────────────────────────────────────────────────────────┘
```

#### 文章管理页面
```plain
┌───────────────────────────────────────────────────────────────────────┐
│  ⚡ 博客管理后台                                                      │
├───────┬───────────────────────────────────────────────────────────────┤
│       │  📚 文章列表                                    [🔍 搜索文章标题]│
          [搜索文章标题][分类] [状态]  [查询] [重置] 
│ 左侧  ├───────────────────────────────────────────────────────────────┤
│ 菜单  │ 标题                    分类      状态     发布日期    操作      │
│ 栏    ├───────────────────────────────────────────────────────────────┤
│       │ Docker部署指南          技术工具  已发布   01-15     [预览]    │
│ [仪表盘]│ Git命令手册            技术工具  已发布   01-02     [预览]    │
│ [文章管理] VS Code插件推荐        技术工具  已发布   12-25     [预览]    │
│ [Notion同步] Linux性能优化          技术工具  已发布   11-30     [预览]    │
│       │ React Hooks实践        前端框架  草稿     01-18     [编辑]    │
│       │ 云原生架构              云计算    已发布   12-10     [预览]    │
│       ├───────────────────────────────────────────────────────────────┤
│       │                                                               │
│       │  📄 分页： [1] 2 3 4 5 ... 10                  共98条记录     │
└───────┴───────────────────────────────────────────────────────────────┘
```

#### notion 同步页面
```plain
┌───────────────────────────────────────────────────────────────────────┐
│  ⚡ 博客管理后台                                                      │
├───────┬───────────────────────────────────────────────────────────────┤
│       │  🔄 Notion数据同步                                            │
│ 左侧  ├───────────────────────────────────────────────────────────────┤
│ 菜单  │ Notion API密钥：***************                   [复制]      │
│ 栏    │ Notion数据库ID：a1b2c3d4e5f6                     [复制]      │
│       │                                                               │
│ [仪表盘]│ [立即同步]                                                   │
│ [文章管理]│                                                               │
│ [Notion同步]│                                                               │
│       │  📝 同步日志                                                 │
│       ├───────────────────────────────────────────────────────────────┤
│       │ 2024-01-18 08:00 [成功] 同步完成，更新3篇文章                 │
│       │ 2024-01-17 08:00 [成功] 同步完成，更新1篇文章                 │
│       │ 2024-01-16 08:00 [成功] 同步完成，无更新                      │
│       │ 2024-01-15 08:00 [成功] 同步完成，更新2篇文章                 │
│       └───────────────────────────────────────────────────────────────┘
└───────┴───────────────────────────────────────────────────────────────┘
```

## Notion集成实现方案
### Notion数据库结构分析
**实际数据库字段：**

```json
{
  "文档名称": "title",           # 标题
  "分类": "select",             # 分类(保险/技术工具/读书笔记等)
  "标签": "multi_select",       # 多标签
  "状态": "select",             # 已发布/草稿
  "作者": "select",             # dada
  "发布日期": "date",           # 发布时间
  "更新日期": "last_edited_time", # 更新时间
  "原文链接": "url"             # 原文链接
}
```

### 配置设置
```yaml
# Notion API密钥
apiKey: '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'
# Notion数据库ID
databaseId: '1c1ed4b7aaea81ed9e46fd7f0ee61cd5'
```

### 2. 数据映射关系
Notion数据库与博客文章的属性映射：

| Notion属性 | 博客文章属性 | 说明 |
| --- | --- | --- |
| 文档名称 (title) | title | 文章标题 |
| 发布日期 (date) | publish_time | 发布时间 |
| 更新日期 (date) | update_time | 更新时间 |
| 分类 (select) | categories | 文章分类 |
| 标签 (multi_select) | tags | 文章标签 |
| 作者 (select) | author | 作者名称 |
| 状态 (select) | status | 发布状态 |
| 原文链接 (url) | original_url | 原文引用 |




